import React, { useContext, useEffect, useRef } from 'react'
import CartOverlay from '../CartOverlay';
import NotifOverlays from '../NotifOverlays';
import Context from '../../Context';

function GuestLayout(props) {
    const svg = {
        product: <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M5.91623 4.96229C6.31475 4.25385 7.0644 3.81543 7.87725 3.81543H16.1228C16.9356 3.81543 17.6852 4.25385 18.0838 4.96229L20.461 9.18826C20.6505 9.52506 20.75 9.90497 20.75 10.2914V19.0646C20.75 20.3072 19.7426 21.3146 18.5 21.3146H5.5C4.25736 21.3146 3.25 20.3072 3.25 19.0646V10.2914C3.25 9.90497 3.34952 9.52506 3.53898 9.18826L5.91623 4.96229ZM11.25 9.14853V5.31543H7.87725C7.6063 5.31543 7.35641 5.46157 7.22357 5.69772L5.28238 9.14853H11.25ZM4.75 10.6485V19.0646C4.75 19.4788 5.08579 19.8146 5.5 19.8146H18.5C18.9142 19.8146 19.25 19.4788 19.25 19.0646V10.6485H4.75ZM18.7176 9.14853H12.75V5.31543H16.1228C16.3937 5.31543 16.6436 5.46157 16.7764 5.69772L18.7176 9.14853Z" fill="#323544"/>
                </svg>,
        order: <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M1.56641 4C1.56641 3.58579 1.90219 3.25 2.31641 3.25H3.49696C4.61854 3.25 5.56885 4.07602 5.72504 5.18668L5.7862 5.62161H19.7507C21.3714 5.62161 22.4605 7.28344 21.8137 8.76953L19.1464 14.8979C18.789 15.719 17.9788 16.25 17.0833 16.25L7.72179 16.25C6.60021 16.25 5.6499 15.424 5.49371 14.3133L4.23965 5.39556C4.18759 5.02534 3.87082 4.75 3.49696 4.75H2.31641C1.90219 4.75 1.56641 4.41421 1.56641 4ZM5.99714 7.12161L6.9791 14.1044C7.03116 14.4747 7.34793 14.75 7.72179 14.75L17.0833 14.75C17.3818 14.75 17.6519 14.573 17.771 14.2993L20.4383 8.17092C20.6539 7.67556 20.2909 7.12161 19.7507 7.12161H5.99714Z" fill="#323544"/>
                <path d="M6.03418 19.5C6.03418 18.5335 6.81768 17.75 7.78418 17.75C8.75068 17.75 9.53428 18.5335 9.53428 19.5C9.53428 20.4665 8.75078 21.25 7.78428 21.25C6.81778 21.25 6.03418 20.4665 6.03418 19.5Z" fill="#323544"/>
                <path d="M16.3203 17.75C15.3538 17.75 14.5703 18.5335 14.5703 19.5C14.5703 20.4665 15.3538 21.25 16.3203 21.25C17.2868 21.25 18.0704 20.4665 18.0704 19.5C18.0704 18.5335 17.2868 17.75 16.3203 17.75Z" fill="#323544"/>
                </svg>,
        login: <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11.5781 2.5C10.3355 2.5 9.32812 3.50736 9.32812 4.75V6.6285C9.44877 6.70925 9.56333 6.80292 9.66985 6.90952L10.8281 8.06853V4.75C10.8281 4.33579 11.1639 4 11.5781 4H17.5781C17.9923 4 18.3281 4.33579 18.3281 4.75V20.25C18.3281 20.6642 17.9923 21 17.5781 21H11.5781C11.1639 21 10.8281 20.6642 10.8281 20.25V16.9314L9.6699 18.0904C9.56336 18.197 9.44879 18.2907 9.32812 18.3715V20.25C9.32812 21.4926 10.3355 22.5 11.5781 22.5H17.5781C18.8208 22.5 19.8281 21.4926 19.8281 20.25V4.75C19.8281 3.50736 18.8208 2.5 17.5781 2.5H11.5781Z" fill="#323544"/>
                <path d="M7.54784 15.9699L10.2658 13.25L4.32813 13.25C3.91391 13.25 3.57812 12.9142 3.57812 12.5C3.57812 12.0858 3.91391 11.75 4.32812 11.75L10.266 11.75L7.54786 9.03016C7.25506 8.73718 7.25521 8.2623 7.54819 7.9695C7.84118 7.6767 8.31605 7.67685 8.60885 7.96984L12.5724 11.9359C12.7291 12.0733 12.8281 12.2751 12.8281 12.5C12.8281 12.7259 12.7283 12.9284 12.5703 13.0659L8.60887 17.0301C8.31608 17.3231 7.84121 17.3233 7.54821 17.0305C7.25521 16.7377 7.25505 16.2629 7.54784 15.9699Z" fill="#323544"/>
                </svg>,
        }

        const { openSideBar } = useContext(Context);
        const aside = useRef(null);

        useEffect(() => {
            openSideBar ? aside.current.classList.replace('hidden', 'block') : aside.current.classList.replace('block', 'hidden')
        }, [openSideBar]);

  return (
    <>
        <aside ref={aside} className='border border-gray-200 hidden shadow-xl h-full w-64'>
                <nav className='flex flex-col h-full'>
                    <a href="/" className={`flex gap-2 px-4 py-2 bg-gray-200`}>
                        {svg.product}
                        Produk
                    </a>
                </nav>

                <div className='self-end border-t-1 border-gray-200 flex flex-col'>
                    <a href="/login" className='flex gap-2 px-4 py-2 hover:bg-gray-200'>
                        {svg.login}
                        Masuk
                    </a>
                </div>
        </aside>
    </>
  )
}

export default GuestLayout